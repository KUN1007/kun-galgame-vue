{"version":3,"sources":["emitSocketProgress.js"],"names":["throttle","emitSocketProgress","uploader","progressData","file","progress","bytesUploaded","bytesTotal","uppy","log","emit","leading","trailing"],"mappings":";;MAAOA,Q;;AAEP,SAASC,kBAAT,CAA6BC,QAA7B,EAAuCC,YAAvC,EAAqDC,IAArD,EAA2D;AACzD,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,aAAZ;AAA2BC,IAAAA;AAA3B,MAA0CJ,YAAhD;;AACA,MAAIE,QAAJ,EAAc;AACZH,IAAAA,QAAQ,CAACM,IAAT,CAAcC,GAAd,CAAmB,oBAAmBJ,QAAS,EAA/C;AACAH,IAAAA,QAAQ,CAACM,IAAT,CAAcE,IAAd,CAAmB,iBAAnB,EAAsCN,IAAtC,EAA4C;AAC1CF,MAAAA,QAD0C;AAE1CI,MAAAA,aAF0C;AAG1CC,MAAAA;AAH0C,KAA5C;AAKD;AACF;;iBAEcP,QAAQ,CAACC,kBAAD,EAAqB,GAArB,EAA0B;AAC/CU,EAAAA,OAAO,EAAE,IADsC;AAE/CC,EAAAA,QAAQ,EAAE;AAFqC,CAA1B,C","sourcesContent":["import throttle from 'lodash.throttle'\n\nfunction emitSocketProgress (uploader, progressData, file) {\n  const { progress, bytesUploaded, bytesTotal } = progressData\n  if (progress) {\n    uploader.uppy.log(`Upload progress: ${progress}`)\n    uploader.uppy.emit('upload-progress', file, {\n      uploader,\n      bytesUploaded,\n      bytesTotal,\n    })\n  }\n}\n\nexport default throttle(emitSocketProgress, 300, {\n  leading: true,\n  trailing: true,\n})\n"]}